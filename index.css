/* Base layout and safe area (Status Bar Overlay fix) */
:root {
  --safe-top: max(35px, env(safe-area-inset-top));
  --header-height: calc(56px + var(--safe-top));
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
  min-height: 100dvh;
  max-width: 100vw;
  overflow-x: hidden;
  background: transparent !important;
}

body {
  margin: 0;
  padding: 0;
  max-width: 100vw;
  overflow-x: hidden;
  font-size: clamp(14px, 3.6vw, 16px);
  -webkit-tap-highlight-color: transparent;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: max(12px, env(safe-area-inset-bottom));
}

/* Utility: zone sous la barre de statut (header, burger, contenu principal) */
.safe-area-top {
  padding-top: var(--safe-top);
}
.safe-area-top--min-30 {
  padding-top: var(--safe-top);
}
.safe-area-inset-top {
  padding-top: var(--safe-top);
}
.admin-dash-content {
  /* padding-top géré en inline : calc(var(--safe-top) + 56px) */
}
/* Grands titres des sous-pages Admin / Vendeur / Central : alignés en haut à droite */
.admin-page-content h1,
.admin-page-content .admin-page-title {
  text-align: right;
}
.admin-page-content > div > div:has(> div > h1):first-child {
  justify-content: flex-end;
}
.safe-area-burger {
  top: 0;
  padding-top: var(--safe-top);
}
.sidebar-safe-area-mobile {
  top: var(--safe-top);
  height: calc(100vh - var(--safe-top));
  max-height: 100dvh;
}
/* Mobile : 100dvh + overflow-y auto pour s’adapter aux barres navigateur */
@media (max-width: 1023px) {
  .sidebar-safe-area-mobile {
    height: 100dvh !important;
    max-height: 100dvh !important;
    top: 0 !important;
  }
}
/* Zone de navigation (liens) : flex-1 overflow-y-auto + scroll fluide iOS */
.sidebar-nav-scroll {
  -webkit-overflow-scrolling: touch !important;
  touch-action: pan-y;
  overscroll-behavior-y: contain;
}
/* Padding bas : Déconnexion pas collé / caché par la barre système */
.sidebar-footer-padding {
  padding-bottom: max(30px, env(safe-area-inset-bottom)) !important;
}
@media (min-width: 1024px) {
  .sidebar-safe-area-mobile {
    top: 0;
    height: 100vh;
    max-height: none;
  }
  .sidebar-footer-padding {
    padding-bottom: 1.5rem !important;
  }
}

/* Panneau panier : bande status bar 100% transparente (format Android)
   L’overlay ne couvre pas la safe area → le système reste visible au-dessus. */
.cart-overlay-wrapper {
  top: var(--safe-top);
  left: 0;
  right: 0;
  bottom: 0;
}
@media (min-width: 768px) {
  .cart-overlay-wrapper {
    top: 0;
  }
}
.cart-panel-mobile-max-h {
  max-height: 100%;
}
@media (min-width: 768px) {
  .cart-panel-mobile-max-h {
    max-height: none;
  }
}

/* --- Admin Dashboard : UI compacte "Mobile Native Pro" --- */
.admin-input,
.admin-input input,
.admin-input select {
  height: 38px !important;
  min-height: 38px !important;
  font-size: 13px !important;
  padding: 0 10px !important;
}
.admin-label {
  font-size: 11px !important;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 700;
}
.admin-card {
  padding: 20px !important;
}
.admin-btn {
  height: 42px !important;
  min-height: 42px !important;
  font-size: 14px !important;
}
.admin-btn-sm {
  height: 40px !important;
  min-height: 40px !important;
  font-size: 13px !important;
}
.admin-table th,
.admin-table td {
  border-bottom: 1px solid #f0f0f0;
  padding: 8px 12px !important;
}
.admin-table thead th {
  font-size: 11px !important;
  font-weight: 700;
  text-transform: uppercase;
}
/* Titre page Statistiques — en haut à droite, bien visible */
.stats-page-title {
  font-size: 20px !important;
  font-weight: 900 !important;
  color: #0f172a !important;
  letter-spacing: 0.02em;
}
@media (min-width: 768px) {
  .stats-page-title {
    font-size: 24px !important;
  }
}

/* ========== Section Statistiques : 06 cartes style capture 2, 2 par ligne ========== */
.stats-section__title {
  font-size: 18px;
  font-weight: 800;
  color: #0f172a;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  margin: 0;
}
@media (min-width: 768px) {
  .stats-section__title {
    font-size: 22px;
  }
}

.stats-section__grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  width: 100%;
}
@media (min-width: 640px) {
  .stats-section__grid {
    gap: 20px;
  }
}
@media (min-width: 1024px) {
  .stats-section__grid {
    gap: 24px;
  }
}

/* Carte : même rendu que capture 2 — coins arrondis, fond clair, légère ombre */
.stats-section__card {
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  min-height: 100px;
}

.stats-section__label {
  font-size: 12px;
  font-weight: 600;
  color: #374151;
  margin: 0 0 8px 0;
  line-height: 1.2;
}

.stats-section__value {
  font-size: 20px;
  font-weight: 800;
  color: #0f172a;
  margin: 0;
  line-height: 1.2;
  font-family: ui-monospace, "Roboto Mono", monospace;
}
.stats-section__value--green {
  color: #00A859;
}
.stats-section__value span {
  font-size: 12px;
  font-weight: 600;
}

/* Anciennes classes conservées pour compatibilité */
.admin-stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  width: 100%;
}
@media (min-width: 1024px) {
  .admin-stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }
}
.admin-stats-card {
  aspect-ratio: 1;
  min-height: 120px;
  padding: 20px !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 12px !important;
  background: #ffffff !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: flex-start !important;
}
.admin-stats-card .admin-stats-title {
  font-size: 11px !important;
  font-weight: 700 !important;
  color: #6b7280 !important;
}
.admin-stats-card .admin-stats-value {
  font-size: 22px !important;
  font-weight: 800 !important;
}
.admin-stats-card .admin-stats-value span {
  font-size: 11px !important;
  font-weight: 600 !important;
}

/* Formulaire Créer Admin : container 92%, inputs 44px 14px, labels 12px, bouton 48px */
.admin-form-container {
  width: 92%;
  max-width: 100%;
}
.admin-form-input,
.admin-form-input input,
.admin-form-input select {
  height: 44px !important;
  min-height: 44px !important;
  font-size: 14px !important;
}
.admin-form-label {
  font-size: 12px !important;
  margin-bottom: 4px !important;
  display: block !important;
}
.admin-form-btn {
  height: 48px !important;
  min-height: 48px !important;
}

/* Tableaux : ligne 50px, nom 13px bold, email 11px gris, badge 9px 2px 6px */
.admin-table tbody tr {
  height: 50px !important;
  min-height: 50px !important;
}
.admin-table tbody td {
  height: 50px !important;
  min-height: 50px !important;
  vertical-align: middle !important;
}
.admin-table .cell-name { font-size: 13px !important; font-weight: 700 !important; }
.admin-table .cell-email { font-size: 11px !important; color: #666 !important; }
.admin-table .cell-numeric {
  font-family: ui-monospace, "Roboto Mono", "SF Mono", monospace !important;
  font-size: 12px !important;
}
/* 1ère colonne sticky + scroll horizontal sur desktop */
.admin-table-scroll-wrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
.admin-table .sticky-col {
  position: sticky !important;
  left: 0 !important;
  background: #fff !important;
  z-index: 1 !important;
  min-width: 140px;
}
.admin-table thead .sticky-col { background: #f9fafb !important; }
/* < 600px : cartes empilées (Jumia) ; >= 600px : tableau */
@media (max-width: 599px) {
  .admin-table-only { display: none !important; }
  .admin-cards-only { display: block !important; }
}
@media (min-width: 600px) {
  .admin-table-only { display: block !important; }
  .admin-cards-only { display: none !important; }
}
.admin-badge {
  font-size: 11px !important;
  padding: 2px 8px !important;
  font-weight: 700;
  text-transform: uppercase;
}

/* Enfant direct : ne pas rétrécir, largeur fixe pour garder la même taille de carte qu’en grille */

/* Masquer la barre de scroll horizontale (scroll conservé) */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
/* Scroll fluide tactile (mobile) */
.products-scroll-mobile {
  -webkit-overflow-scrolling: touch;
}

/* Horizontal product scrollers (Jumia-like) */
.horizontal-scroll {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 8px;
}
.horizontal-scroll::-webkit-scrollbar {
  display: none;
}
.scroll-card {
  min-width: 200px;
  max-width: 240px;
  flex-shrink: 0;
  scroll-snap-align: start;
}
/* Grille 2 colonnes produits mobile : carte ~165px (style Jumia) */
@media (max-width: 768px) {
  .scroll-card {
    min-width: 165px;
    max-width: 165px;
  }
  .scroll-card .product-card-title,
  .product-card-compact .product-card-title {
    font-size: 13px !important;
    font-weight: 600 !important;
    line-height: 1.3 !important;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .scroll-card .product-card-price,
  .product-card-compact .product-card-price {
    font-size: 14px !important;
    font-weight: 700 !important;
  }
  .product-card-image-wrap {
    aspect-ratio: 1 / 1;
    width: 100%;
  }
  .product-card-add-btn {
    height: 32px !important;
    min-height: 32px;
    font-size: 11px !important;
  }
}

.splash-progress {
  height: 100%;
  width: 35%;
  background: #064e3b;
  border-radius: 9999px;
  animation: splashProgress 1.4s ease-in-out infinite;
}

@keyframes splashProgress {
  0% { transform: translateX(-30%); width: 30%; opacity: 0.6; }
  50% { transform: translateX(60%); width: 60%; opacity: 1; }
  100% { transform: translateX(130%); width: 30%; opacity: 0.6; }
}

/* ========== Admin Dashboard Right — Premium Grid & Live Chart ========== */
.admin-dashboard-right {
  padding: 32px;
  box-sizing: border-box;
}
.admin-dashboard-right .grid.grid-cols-2.md\\:grid-cols-4 {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}
@media (min-width: 768px) {
  .admin-dashboard-right .grid.grid-cols-2.md\\:grid-cols-4 {
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
}

/* ========== Standardisation Mobile 720×1280 ========== */
/* Marge standard : 16px gauche/droite (aucun élément ne touche les bords) */
.page-padding {
  padding-left: 16px !important;
  padding-right: 16px !important;
}
@media (max-width: 767px) {
  .page-padding {
    padding-left: 16px !important;
    padding-right: 16px !important;
  }
}
/* Line-height global anti-chevauchement */
body {
  line-height: 1.35;
}

/* Barre de filtres : scroll horizontal sans retour à la ligne (pills) */
.filter-bar-scroll {
  display: flex;
  flex-wrap: nowrap !important;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-left: 16px;
  padding-right: 16px;
  padding-bottom: 4px;
  gap: 15px;
}
.filter-bar-scroll::-webkit-scrollbar,
.chat-suggestions-scroll::-webkit-scrollbar {
  display: none;
}
.filter-bar-scroll .filter-btn {
  flex-shrink: 0 !important;
  white-space: nowrap !important;
  height: 32px;
  font-size: 12px;
  font-weight: 600;
  padding-left: 12px;
  padding-right: 12px;
  border-radius: 8px;
}

/* Tableaux : scroll horizontal, barre en bas (Gestion Utilisateurs) */
.table-scroll-wrap {
  overflow-x: scroll; /* scroll toujours visible en bas */
  overflow-y: visible;
  -webkit-overflow-scrolling: touch;
  width: 100%;
  min-width: 0;
  max-width: 100%;
  display: block;
}
/* Barre de défilement visible en bas du tableau */
.table-scroll-wrap::-webkit-scrollbar {
  height: 10px;
}
.table-scroll-wrap::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}
.table-scroll-wrap::-webkit-scrollbar-thumb {
  background: #00A859;
  border-radius: 4px;
}
.table-scroll-wrap::-webkit-scrollbar-thumb:hover {
  background: #008f4a;
}

/* Sidebar admin/vendeur/grossiste : scroll vertical + tactile mobile */
.custom-scrollbar {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
  overscroll-behavior-y: contain;
}
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.05);
  border-radius: 4px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(148,163,184,0.4);
  border-radius: 4px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(148,163,184,0.6);
}

/* Mobile / tablet portrait : jusqu'à 768px (inclut 720×1280) */
@media (max-width: 768px) {
  body {
    font-size: 14px;
    line-height: 1.35;
  }

  /* Typographie stricte mobile */
  .mobile-h1 { font-size: 18px !important; font-weight: 700 !important; line-height: 1.2 !important; }
  .mobile-h2 { font-size: 14px !important; font-weight: 600 !important; line-height: 1.3 !important; }
  .mobile-body { font-size: 12px !important; line-height: 1.4 !important; }
  .mobile-caption { font-size: 10px !important; font-weight: 700 !important; line-height: 1.2 !important; }

  button,
  [role="button"],
  input,
  select,
  textarea {
    min-height: 44px;
    font-size: 14px !important;
    border-radius: 8px;
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  .text-3xl { font-size: 18px !important; }
  .text-2xl { font-size: 18px !important; }
  .text-xl { font-size: 14px !important; }
  .text-lg { font-size: 14px !important; }
  .text-sm { font-size: 12px !important; }
  .text-xs { font-size: 10px !important; }
  .text-\[15px\] { font-size: 14px !important; }

  .mobile-bottom-nav {
    min-height: 56px;
    font-size: 10px !important;
  }
  .mobile-bottom-nav button {
    padding-top: 6px;
    padding-bottom: 6px;
    gap: 2px;
    min-height: 56px;
  }
  .mobile-bottom-nav svg {
    width: 24px;
    height: 24px;
  }
  .mobile-bottom-nav span {
    line-height: 1.2;
    white-space: nowrap;
  }

  .text-\[8px\],
  .text-\[9px\] { font-size: 10px !important; }
  .text-\[10px\] { font-size: 10px !important; }
  .text-\[11px\] { font-size: 11px !important; }

  .cookie-accept-btn {
    display: none !important;
  }

  .p-6 {
    padding: 0.75rem !important;
  }
}

/* Optimisation écran 720×1280 (largeur 720px) */
@media (min-width: 641px) and (max-width: 720px) {
  .horizontal-scroll { gap: 14px; }
  .scroll-card { min-width: 200px; max-width: 220px; }
}

/* Très petits écrans */
@media (max-width: 380px) {
  .mobile-bottom-nav {
    font-size: 10px;
  }
  .mobile-bottom-nav button {
    padding-top: 6px;
    padding-bottom: 6px;
  }
}
